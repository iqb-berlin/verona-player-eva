<mat-card fxLayout="column" class="page">
  <mat-card-content>
    <form  [formGroup]="form">
      <p>{{form.valid ? 'valid' : 'invalid'}}</p>
      <div *ngFor="let e of elements">
        <ng-container [ngSwitch]="e.fieldType">
          <app-text *ngSwitchCase="fieldType.TEXT" [elementData]="e"></app-text>
          <app-text *ngSwitchCase="fieldType.HEADER" [elementData]="e"></app-text>
          <app-text *ngSwitchCase="fieldType.HTML" [elementData]="e"></app-text>
          <app-text *ngSwitchCase="fieldType.HR" [elementData]="e"></app-text>
          <app-text *ngSwitchCase="fieldType.TITLE" [elementData]="e"></app-text>
          <app-text *ngSwitchCase="fieldType.SCRIPT_ERROR" [elementData]="e"></app-text>
          <app-input *ngSwitchCase="fieldType.INPUT_TEXT" [elementData]="e" (elementDataChange)="elementValueChanged()" [parentForm]="form"></app-input>
          <app-input *ngSwitchCase="fieldType.INPUT_NUMBER" [elementData]="e" (elementDataChange)="elementValueChanged()" [parentForm]="form"></app-input>
          <app-checkbox *ngSwitchCase="fieldType.CHECKBOX" [elementData]="e" (elementDataChange)="elementValueChanged()" [parentForm]="form"></app-checkbox>
          <app-select *ngSwitchCase="fieldType.MULTIPLE_CHOICE" [elementData]="e" (elementDataChange)="elementValueChanged()" [parentForm]="form"></app-select>
          <app-select *ngSwitchCase="fieldType.DROP_DOWN" [elementData]="e" (elementDataChange)="elementValueChanged()" [parentForm]="form"></app-select>
        </ng-container>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button (click)="setNewScript()" matTooltip="Script eingeben">Script Laden</button>
    <button mat-raised-button (click)="form.markAllAsTouched()" matTooltip="zeige alle Probleme">Validiere</button>
  </mat-card-actions>
</mat-card>
